# Bootstrap configurations - loaded before application.yml

spring:
  application:
    # Service name - MUST match the config file name (e.g., api-gateway.yml) and Eureka ID
    name: api-gateway
  cloud:
    config:
      # URI of the Config Server
      uri: http://localhost:8888 # Or use discovery: enabled: true if config server registers with Eureka
      # Which profile(s) to fetch (comma-separated)
      # profile: dev # Example: Load application-dev.yml and api-gateway-dev.yml
      label: main # Git branch/tag
      fail-fast: true # Fail startup if config server is unavailable
      retry:
        initial-interval: 1000
        max-interval: 2000
        max-attempts: 6
  # Explicitly import configuration from Config Server (Required in newer Spring Cloud versions)
  config:
    import: "configserver:${spring.cloud.config.uri}"
    # Example with profile: "optional:configserver:${spring.cloud.config.uri}/${spring.profiles.active}"

# Optional: Enable discovery-first bootstrap if Config Server registers with Eureka
# spring.cloud.config.discovery.enabled=true
# eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/ 